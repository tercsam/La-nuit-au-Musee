<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>L'Observatoire des Mondes</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="starfield"><canvas id="star-canvas"></canvas></div>

<!-- Welcome -->
<div id="screen-welcome" class="screen active">
  <div class="orbit-ring r1"></div>
  <div class="orbit-ring r2"></div>
  <div class="orbit-ring r3"></div>
  <p class="welcome-subtitle">Bienvenue √†</p>
  <h1 class="welcome-title">La galerie<br>Saint Jacques</h1>
  <p class="welcome-desc">Transforme ton dessin en une plan√®te vivante qui flotte dans l'espace.</p>
  <button class="btn-scan" id="btn-start">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"/>
      <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
      <path d="M2 12h20"/>
    </svg>
    Scanner ma Plan√®te
  </button>
</div>

<!-- Camera -->
<div id="screen-camera" class="screen">
  <div class="camera-container">
    <video id="video-feed" autoplay playsinline muted></video>
    <canvas id="capture-canvas"></canvas>
    <div class="camera-overlay">
      <div class="guide-circle">
        <div class="guide-corner tl"></div>
        <div class="guide-corner tr"></div>
        <div class="guide-corner bl"></div>
        <div class="guide-corner br"></div>
      </div>
    </div>
    <p class="camera-hint">Aligne ton dessin dans le cercle</p>
    <button class="btn-capture" id="btn-capture"></button>
    <button class="btn-back-cam" id="btn-back-cam">‚Üê</button>
    <div class="upload-fallback">
      <button class="btn-upload" id="btn-upload-trigger">üìÅ Importer</button>
      <input type="file" id="file-input" accept="image/*">
    </div>
  </div>
</div>

<!-- Loading -->
<div id="screen-loading" class="screen">
  <div class="loading-content">
    <div class="loading-orb"></div>
    <p class="loading-text">Calcul de la trajectoire orbitale‚Ä¶</p>
  </div>
</div>

<!-- Planet -->
<div id="screen-planet" class="screen">
  <canvas id="three-canvas"></canvas>
  <div class="planet-ui">
    <div class="planet-title-bar">
      <div class="planet-label">
        Ma Plan√®te
        <small>Nouvellement d√©couverte</small>
      </div>
      <button class="btn-icon" id="btn-new" title="Nouvelle plan√®te">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 5v14M5 12h14"/></svg>
      </button>
    </div>
    <div class="planet-bottom-bar">
      <button class="btn-action" id="btn-screenshot">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="12" cy="12" r="3"/></svg>
        Capturer
      </button>
      <button class="btn-action" id="btn-save">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        Sauvegarder
      </button>
    </div>
  </div>
</div>

<div class="flash" id="flash"></div>
<canvas id="texture-canvas"></canvas>
<div class="toast" id="toast"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="app.js"></script>
</body>
</html>
